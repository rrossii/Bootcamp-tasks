<template>
    <lightning-card title="Create Contacts">
        <template for:each={contacts} for:item="contact" for:index="index">
            <div key={contact.id} class="slds-grid slds-grid_align-space slds-m-left_x-small slds-m-right_x-small" >
                <div class="slds-col">
                    <lightning-input 
                        data-id={contact.id} data-field="firstName" value={contact.firstName} 
                        type="text" label="First Name" onchange={handleInputChange}>
                    </lightning-input>
                </div>
                <div class="slds-col">
                    <lightning-input 
                        data-id={contact.id} data-field="lastName" value={contact.lastName} 
                        type="text" label="Last Name" onchange={handleInputChange}
                        required>
                    </lightning-input>
                </div>
                <div class="slds-col">
                    <lightning-input 
                        data-id={contact.id} data-field="dateOfBirth" value={contact.dateOfBirth} 
                        type="date" label="Date of Birth" onchange={handleInputChange}>
                    </lightning-input>
                </div>
                <div class="slds-col">
                    <lightning-input 
                        data-id={contact.id} data-field="email" value={contact.email} 
                        type="email" label="Email" onchange={handleInputChange}
                        required>
                    </lightning-input>
                </div>
                <div class="slds-col">
                    <lightning-input 
                        data-id={contact.id} data-field="leadSource" value={contact.leadSource} 
                        type="text" label="Lead Source" onchange={handleInputChange}> 
                    </lightning-input>
                </div>
                <div class="slds-m-top_large">
                    <lightning-icon 
                        data-id={contact.id}
                        icon-name="utility:delete" 
                        size="small"
                        onclick={handleDeleteContactRow}>
                    </lightning-icon>
                </div>
            </div>
        </template>

        <div class="slds-grid slds-grid_align-spread">
            <lightning-button 
                class="slds-m-left_x-small" 
                variant="brand" label="Add Contact row" title="Add Contact"
                onclick={handleAddContactRow}>
            </lightning-button>
            <lightning-button 
                class="slds-m-right_x-small" 
                variant="brand-outline" label="Create Contacts" title="Create Contacts"
                onclick={handleCreateContacts}>
            </lightning-button>
        </div>
    </lightning-card>
</template>